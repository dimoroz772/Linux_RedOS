–°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –ü–û –¥–ª—è –û–° RedOS.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
–í—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å –Ω–∞ –û–° RedOS 8 Server.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
–í –¥–∞–Ω–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ —Ç–æ, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ü–û R7-office, Yandex-browser –∏ TrueConf.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
10.10.10.10 ‚Äî IP-Address —Å–µ—Ä–≤–µ—Ä–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
yum install -y NetworkManager-tui |#|#| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ "nmtui" –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –Ω–∞ –ê–†–ú/VM
------------
–ì–∞–π–¥ –ø–æ —Ç–æ–º—É, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º nmtui, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.
------------
yum upgrade -y && reboot |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –û–° —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
------------
dnf install -y httpd createrepo yum-utils |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ "httpd", "createrepo", "dnf-utils" –∏ "cronie"
------------
rm -rf /etc/yum.repos.d/RedOS-Base.repo && rm -rf /etc/yum.repos.d/RedOS-Updates.repo |#|#| –î–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π —É–¥–∞–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ "RedOS-Base.repo" –∏ "RedOS-Updates.repo"
------------
systemctl enable httpd --now |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª—É–∂–±—ã "httpd" –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã
------------
rm -rf /etc/httpd/conf.d/welcome.conf |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
------------
nano /etc/httpd/conf/httpd.conf |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ "httpd.conf"
    
–í–Ω—É—Ç—Ä–∏ —Å–µ–∫—Ü–∏–∏ &lt;Directory &quot;/var/www/html&quot;&gt; –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É "Options Indexes FollowSymLinks" –∫ –≤–∏–¥—É "Options Indexes FollowSymLinks Includes"
------------
systemctl restart httpd |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–ª—É–∂–±—ã "httpd"
------------
nano /etc/yum.repos.d/R7.repo |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "R7.repo"

–°–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

[r7-office]
name=Repositories for R7 Office
baseurl=https://desktop:P@ssw0rD@downloads.r7-office.ru/repository/r7-desktop-yum/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-R7-OFFICE.public
sslverify=0
------------
nano /etc/yum.repos.d/Yandex.repo |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "Yandex.repo"

–°–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

[yandex-browser]
name=Repositories for Yandex Browser
baseurl=https://repo.yandex.ru/yandex-browser/rpm/redos/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/YANDEX-BROWSER-KEY.GPG
------------
mkdir /var/www/html/outside_software_redos |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ "/var/www/html/outside_software_redos"
------------
cd /var/www/html/outside_software_redos/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥ "/var/www/html/outside_software_redos/"
------------
reposync --repoid=r7-office --download-metadata --downloadcomps |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–µ—Ä–∫–∞–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "r7-office"
------------
reposync --repoid=r7-office --newest-only --downloadcomps |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–µ—Ä–∫–∞–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "r7-office". –ï—Å–ª–∏ –≤–æ –≤–Ω–µ—à–Ω–µ–º
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã, —Ç–æ –¥–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã –≤ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö.
------------
createrepo -v /var/www/html/outside_software_redos/r7-office/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "r7-office"
------------
cp /etc/pki/rpm-gpg/RPM-GPG-KEY-R7-OFFICE.public /var/www/html/outside_software_redos/r7-office/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è "GPG-–∫–ª—é—á–∞" –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ "/etc/pki/rpm-gpg/"
–≤ –∫–∞—Ç–∞–ª–æ–≥ "/var/www/html/outside_software_redos/r7-office/"
------------
chmod 644 /var/www/html/outside_software_redos/r7-office/RPM-GPG-KEY-R7-OFFICE.public |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–¥–∞—á–∏ "644" –ø—Ä–∞–≤ –∫–ª—é—á—É "RPM-GPG-KEY-R7-OFFICE.public"
------------
reposync --repoid=yandex-browser --download-metadata --downloadcomps |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–µ—Ä–∫–∞–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "yandex-browser"
------------
reposync --repoid=yandex-browser --newest-only --downloadcomps |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–µ—Ä–∫–∞–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "yandex-browser". –ï—Å–ª–∏ –≤–æ –≤–Ω–µ—à–Ω–µ–º
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã, —Ç–æ –¥–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã –≤ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö.
------------
createrepo -v /var/www/html/outside_software_redos/yandex-browser/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è "yandex-browser"
------------
cp /etc/pki/rpm-gpg/YANDEX-BROWSER-KEY.GPG /var/www/html/outside_software/yandex-browser/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è "GPG-–∫–ª—é—á–∞" –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ "/etc/pki/rpm-gpg/"
–≤ –∫–∞—Ç–∞–ª–æ–≥ "/var/www/html/outside_software_redos/yandex-browser/"
------------
chmod 644 /var/www/html/outside_software/yandex-browser/YANDEX-BROWSER-KEY.GPG |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–¥–∞—á–∏ "644" –ø—Ä–∞–≤ –∫–ª—é—á—É "YANDEX-BROWSER-KEY.GPG"
------------
mkdir /var/www/html/outside_software_redos/trueconf |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ "/var/www/html/outside_software_redos/trueconf"
------------
cd /root/ |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –¥–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "root"
------------
nano trueconf.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ "trueconf" —Å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö
    
–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

#!/bin/bash

DOWNLOAD_DIR="/var/www/html/outside_software_redos/trueconf"
BASE_URL="https://mirror.trueconf.ru/redos"
ARCH="x86_64"
TMP_REPO="/tmp/trueconf.repo"
GPG_KEY_URL="https://mirror.trueconf.ru/RPM-GPG-KEY-trueconf"
GPG_KEY_LOCAL="/etc/pki/rpm-gpg/RPM-GPG-KEY-trueconf"

# === GPG KEY ===
echo "[üîê] –ü—Ä–æ–≤–µ—Ä–∫–∞ GPG-–∫–ª—é—á–∞..."
if [ ! -f "$GPG_KEY_LOCAL" ]; then
    echo "[‚Üí] GPG-–∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω, –∑–∞–≥—Ä—É–∂–∞–µ–º..."
    if curl -fsSL "$GPG_KEY_URL" -o "$GPG_KEY_LOCAL"; then
        chmod 644 "$GPG_KEY_LOCAL"
        echo "[‚úì] GPG-–∫–ª—é—á –∑–∞–≥—Ä—É–∂–µ–Ω: $GPG_KEY_LOCAL"
    else
        echo "[!] –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ GPG-–∫–ª—é—á–∞!"
        exit 1
    fi
else
    echo "[‚úì] GPG-–∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç."
fi

# === –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π ===
echo "[üîç] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Å $BASE_URL..."
VERSIONS=$(curl -s "$BASE_URL/" | grep -oP '(?<=href=")[0-9]+(\.[0-9]+){1,2}(?=/")' | sort -Vu)

# === –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ ===
for VERSION in $VERSIONS; do
    echo "=== üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ $VERSION ==="

    REPOID="trueconf-$VERSION"
    REPO_URL="$BASE_URL/$VERSION/$ARCH/release"

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–Ω–æ–π –º–µ—Ç–∞–¥–∞—Ç—ã
    if curl --silent --head --fail "$REPO_URL/repodata/repomd.xml" > /dev/null; then

        # –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ .repo-—Ñ–∞–π–ª–∞
        cat > "$TMP_REPO" <<EOF
[$REPOID]
name=TrueConf $VERSION
baseurl=$REPO_URL
enabled=1
gpgcheck=1
gpgkey=file://$GPG_KEY_LOCAL
EOF

        # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ
        echo "[‚Üì] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è $VERSION..."
        reposync \
            --config="$TMP_REPO" \
            --repoid="$REPOID" \
            --download-path="$DOWNLOAD_DIR/$VERSION/$ARCH" \
            --download-metadata \
            --downloadcomps

    else
        echo "[‚ö†Ô∏è] –ü—Ä–æ–ø—É—â–µ–Ω–æ: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ $REPO_URL/repodata/repomd.xml"
    fi
done

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ .repo-—Ñ–∞–π–ª–∞
rm -f "$TMP_REPO"
echo "[‚úÖ] –ó–∞–≤–µ—Ä—à–µ–Ω–æ!"
------------
chmod 777 /root/trueconf.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–¥–∞—á–∏ "777" –ø—Ä–∞–≤ —Å–∫—Ä–∏–ø—Ç—É "trueconf.sh"
------------
nano r7.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π "r7-office"
    
–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:
    
#!/bin/bash

DESTDIR="/var/www/html/outside_software/"
REPOID="r7-office"

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
dnf makecache

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ .repodata, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
if [[ -d "$DESTDIR/$REPOID/repodata" ]]; then
   rm -rf "$DESTDIR/$REPOID/repodata"
fi

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è r7-office
reposync --repo "$REPOID" --newest-only --downloadcomps -p "$DESTDIR"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–±–µ–∑ comps.xml)
createrepo --update "$DESTDIR/$REPOID"
------------
chmod 777 /root/r7.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–¥–∞—á–∏ "777" –ø—Ä–∞–≤ —Å–∫—Ä–∏–ø—Ç—É "r7.sh"
------------
nano yandex.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π "yandex-browser"

–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

#!/bin/bash

DESTDIR="/var/www/html/outside_software/"
REPOID="yandex-browser"

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–µ—à–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
dnf makecache

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ .repodata, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
if [[ -d "$DESTDIR/$REPOID/repodata" ]]; then
    rm -rf "$DESTDIR/$REPOID/repodata"
fi

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è yandex-browser
reposync --repo "$REPOID" --newest-only --downloadcomps -p "$DESTDIR"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–±–µ–∑ comps.xml)
createrepo --update "$DESTDIR/$REPOID"
------------
chmod 777 /root/yandex.sh |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–¥–∞—á–∏ "777" –ø—Ä–∞–≤ —Å–∫—Ä–∏–ø—Ç—É "yandex.sh"
------------
crontab -e |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ "crontab"

–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª "crontab" –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

30 1 * * 6 /root/R7.sh
30 2 * * 6 /root/trueconf.sh
30 3 * * 6 /root/yandex.sh

–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏:
30 ‚Äî –º–∏–Ω—É—Ç–∞ (30-—è –º–∏–Ω—É—Ç–∞);
1 ‚Äî —á–∞—Å (1 —á–∞—Å –Ω–æ—á–∏);
* ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å;
* ‚Äî –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü;
6 ‚Äî –∫–∞–∂–¥—ã–π 6 –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏(–∫–∞–∂–¥—É—é —Å—É–±–±–æ—Ç—É);
/root/R7.sh ‚Äî –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è.
--------------------------------------------------------------------------------------------------------------------------------------------------------------
–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ "/etc/yum.repos.d/". –í –º–æ—ë–º —Å–ª—É—á–∞–µ –∫–∞–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
–±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "App_OS.repo"
------------
nano /etc/yum.repos.d/App_OS.repo |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏

–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥—É:

[r7-office]
name=R7-Office_repo-local.permkrai.ru
baseurl=https://10.10.10.10/outside_software_redos/r7-office/
enabled=1
gpgcheck=1
gpgkey=https://10.10.10.10/outside_software_redos/r7-office/RPM-GPG-KEY-R7-OFFICE.public
sslverify=0

[trueconf_8.0]
name=TrueConf-8.0_repo-local.permkrai.ru
baseurl=https://10.10.10.10/outside_software_redos/trueconf/8.0/x86_64/trueconf-8.0/
enabled=1
gpgcheck=1
gpgkey=https://10.10.10.10/outside_software_redos/trueconf/RPM-GPG-KEY-trueconf

[yandex-browser]
name=Yandex-Browser_repo-local.permkrai.ru
baseurl=https://10.10.10.10/outside_software_redos/yandex-browser/
enabled=1
gpgcheck=1
gpgkey=https://10.10.10.10/outside_software_redos/yandex-browser/YANDEX-BROWSER-KEY.GPG
------------
–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ –≤—ã—à–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
1. http –∏–ª–∏ https –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏;
2. –£ –ü–û TrueConf –Ω–∞ 28.07.2025 –∏–º–µ–µ—Ç—Å—è 7 —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–ª—è –û–° RedOS(8.0, 7.3.5, 7.3.4, 7.3.3, 7.3.2, 7.3.1, 7.2).
–í –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –Ω–∏–∂–µ —Å—Ç—Ä–æ–∫–∞—Ö —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –Ω—É–∂–Ω—É—é –≤–∞–º –≤–µ—Ä—Å–∏—é –û–° RedOS:
[trueconf_8.0]
name=TrueConf-8.0_repo-local.permkrai.ru
baseurl=https://10.10.10.10/outside_software_redos/trueconf/8.0/x86_64/trueconf-8.0/
------------
–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç! –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, —É–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ç–æ–º, —á—Ç–æ —É –≤–∞—Å –Ω–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ "r7-release*" –∏
"yandex-browser-release*". –ù–∞—á–∏–ª–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π "ls -sla /etc/distro.repos.d/". –ï—Å–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–µ—Ä–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, —Ç–æ
–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Ö —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π "dnf remove -y r7-release* yandex-browser-release*". 
–£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤–∞–∂–Ω–æ, —Ç.–∫. –µ—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—Ç—å, —Ç–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ü–û –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —É –≤–∞—Å –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç "GPG-–∫–ª—é—á–µ–π".
------------
dnf install -y r7-office yandex-browser-stable trueconf |#|#| –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û "r7-office", "yandex-browser-stable" –∏ "trueconf"
--------------------------------------------------------------------------------------------------------------------------------------------------------------
–ù–∞ —ç—Ç–æ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—Å–µ–º —Å–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ!
