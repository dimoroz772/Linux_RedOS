Установка/настройка контроллера домена FreeIPA на OC Linux RedOS 7.3.1 Workstation
----------------------------------------------------------------------------------------------------------------------------------------------------
https://redos.red-soft.ru/base/server-configuring/installation-ipa/install-ipa/
----------------------------------------------------------------------------------------------------------------------------------------------------
При создании виртуаки рекомендуется выделить: Sockets: 2; Cores: 2; Memory(MiB): 8192.
----------------------------------------------------------------------------------------------------------------------------------------------------
hostnamectl set-hostname dc1.freeipa.local
----------------------------------------------------------------------------------------------------------------------------------------------------
После установки рабочей станции, обязательно нужно прописать статику(пример):
IP-адрес: 192.168.9.139; Mask: 255.255.255.0(24); Gateway: 192.168.9.2; Серверы DNS: 192.168.9.2; Поисковый домен: freeipa.local.
----------------------------------------------------------------------------------------------------------------------------------------------------
ifdown ens18 && ifup ens18 |#|#| Перезапуск сетевого интерфейса.
----------------------------------------------------------------------------------------------------------------------------------------------------
yum update -y && yum upgrade -y |#|#| Поиск и обновление пакетов.
----------------------------------------------------------------------------------------------------------------------------------------------------
reboot |#|#| Перезагрузка системы.
----------------------------------------------------------------------------------------------------------------------------------------------------
yum install -y bind bind-dyndb-ldap ipa-server ipa-server-dns ipa-server-trust-ad |#|#| Установка необходимых пакетов для развертывания IPA-сервера.
----------------------------------------------------------------------------------------------------------------------------------------------------
ipa-server-install --mkhomedir |#|#| Запуск конфигурирования IPA-сервера.

Do you want to configure integrated DNS (BIND)? [no]: yes |#|#| Настройка интрегрированного(уже созданного) DNS(BIND) сервера.
----------------------------------------------------------------------------------------------------------------------------------------------------
Если команда "hostnamectl set-hostname dc1.freeipa.local" была выполнена ранее, то в следующем пункте не должно быть никаких проблем.
----------------------------------------------------------------------------------------------------------------------------------------------------
Server host name [dc1.freeipa.local]: "Enter" |#|#| Подтверждение имени хоста сервера.
Please confirm the domain name [freeipa.local]: "Enter" |#|#| Подтверждение доменного имени.
Please provide a realm name [FREEIPA.LOCAL]: "Enter" |#|#| Подтверждение названия области.
----------------------------------------------------------------------------------------------------------------------------------------------------
Directory Manager password: ********
Password (confirm): ********
IPA admin password: ********
Password (confirm): ********
Do you want to configure DNS forwarders? [yes]: "Enter" |#|#| Настройка сервера пересылки DNS.
Do you want to configure these servers as DNS forwarders? [yes]: "Enter" |#|#| Настроить эти серверы как серверы пересылки DNS.
Enter an IP address for a DNS forwarder, or press Enter to skip: "Enter" |#|#| Введите IP-адрес сервера пересылки DNS или нажмите Enter, чтобы пропустить.
Do you want to search for missing reverse zones? [yes]: "Enter" |#|#| Поиск недостающих обратных зон.
Do you want to create reverse zone for IP 192.168.9.139 [yes]: "Enter" |#|#| Создание обратной зоны для IP 192.168.9.139.
Please specify the reverse zone name [9.168.192.in-addr.arpa.]: "Enter" |#|#| Указание имени обратной зоны.
Do you want to configure chrony with NTP server or pool address? [no]: yes |#|#| Настройка сервера времени(выборочно).
Enter NTP source server addresses separated by comma, or press Enter to skip: "Enter" |#|#| Введите адреса исходного NTP-сервера через запятую или нажмите Enter, чтобы пропустить.
Enter a NTP source pool address, or press Enter to skip: "Enter" |#|#| Введите адрес исходного пула NTP или нажмите Enter, чтобы пропустить.
Continue to configure the system with these values? [no]: yes |#|#| Продолжать настраивать систему с этими значениями? (ДА!)

Далее начнется конфигурирование сервера FreeIPA.
----------------------------------------------------------------------------------------------------------------------------------------------------
Для проверки работоспособности IPA-сервера вводим следующие команды:
----------------------------------------------------------------------------------------------------------------------------------------------------
kinit admin
Password for admin@FREEIPA.LOCAL: ********
После введения пароля никаких ошибок выводиться не должно.
----------------------------------------------------------------------------------------------------------------------------------------------------
ipa user-find admin
----------------------------------------
установлено соответствие 1 пользователя
----------------------------------------
Имя учётной записи пользователя: admin
Фамилия: Administrator
Домашний каталог: /home/admin
Оболочка входа: /bin/bash
Псевдоним учетной записи: admin@FREEIPA.LOCAL, root@FREEIPA.LOCAL
UID: 1534200000
ID группы: 1534200000
Учётная запись отключена: False
----------------------------------------
Количество возвращённых записей 1
----------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------
Далее открываем браузер, в поисковике вводим IP-адрес нащего сервера и заходим под учетными данными пользователя "admin".
